(function(t){function e(e){for(var a,o,i=e[0],l=e[1],u=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=(s("d4ce"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav-bar"),s("router-view",{staticClass:"container pt-2"})],1)}),n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[t._v(" Basic Login ")]),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarColor01"}},[s("ul",{staticClass:"navbar-nav mr-auto my-2 my-lg-0"},[s("li",{staticClass:"nav-item active"},[t.logedIn?t._e():s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Signup"}}},[t._v(" Signup ")])],1),s("li",{staticClass:"nav-item"},[t.logedIn?t._e():s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Login"}}},[t._v(" Login ")])],1),s("li",{staticClass:"nav-item"},[t.logedIn?s("a",{staticClass:"nav-link",attrs:{href:"#"},on:{"~click":function(e){return t.logout(e)}}},[t._v(" Logout ")]):t._e()])])])],1)},i=[],l={data:function(){return{logedIn:!1}},methods:{logout:function(){sessionStorage.removeItem("token"),this.logedIn=!1,this.$router.go("/")}},created:function(){sessionStorage.token&&(this.logedIn=!0)}},u=l,c=s("2877"),d=Object(c["a"])(u,o,i,!1,null,null,null),p=d.exports,m={components:{navBar:p}},v=m,f=Object(c["a"])(v,r,n,!1,null,null,null),h=f.exports,g=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jumbotron"},[s("h1",{staticClass:"display-3"},[t._v(" Auth app! ")]),s("p",{staticClass:"lead"},[t._v("This is the basic Auth app!")]),s("hr",{staticClass:"my-4"}),s("p",{staticClass:"lead"},[s("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:{name:"Signup"},role:"button"}},[t._v("Sign Up! ")])],1)])},w=[],_={name:"Home",components:{}},C=_,y=Object(c["a"])(C,b,w,!1,null,null,null),x=y.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jumbotron"},[s("h1",[t._v("Signup")]),t.success?s("div",{staticClass:"alert alert-dismissible alert-success"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(e){t.success=!1}}},[t._v("Ã—")]),s("strong",[t._v("Well done!")]),t._v(" You successfully created a ðŸ˜Ž! ")]):t._e(),t.valid?t._e():s("div",{staticClass:"alert alert-dismissible alert-danger"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(e){t.valid=!0}}},[t._v("Ã—")]),s("strong",[t._v("Oh snap!")]),t._v(" "+t._s(t.error)+" ")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.signup(e)}}},[s("fieldset",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username","aria-describedby":"emailHelp",placeholder:"Enter username",required:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[t._v("Your user name must be at leat 6 character long")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Enter password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[t._v("Your password should be between 8 and 30 long and have at least 1 number")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"confirmPassword"}},[t._v("Confirm password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm you password",required:""},domProps:{value:t.user.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.user,"confirmPassword",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[t._v("Your password should be between 8 and 30 long and have at least 1 number")])]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Signup")])])])])},P=[],j=(s("4d63"),s("ac1f"),s("25f0"),s("724e")),O=s("bc3a"),$="http://localhost:5000/auth/signup",S=j.object({username:j.string().alphanum().min(6).max(20).required(),password:j.string().pattern(new RegExp("^[a-zA-Z0-9]{8,30}$")).required(),confirmPassword:j.ref("password")}),E={name:"signup",data:function(){return{valid:!0,success:!1,error:"",user:{username:"",password:"",confirmPassword:""}}},methods:{signup:function(){var t=this;if(this.validateUser()){var e={username:this.user.username,password:this.user.password};O.post($,e).then((function(){t.valid=!0,t.success=!0,t.$router.push({name:"Login"})})).catch((function(e){throw t.error=e.response.data.message,t.valid=!1,e}))}},validateUser:function(){this.error="";var t=!0,e=S.validate(this.user),s=e.error;return s&&(t=!1,this.valid=!1,this.error=s),t}}},H=E,L=Object(c["a"])(H,k,P,!1,null,null,null),q=L.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jumbotron"},[s("h1",[t._v(" Login ")]),t.valid?t._e():s("div",{staticClass:"alert alert-dismissible alert-danger"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"},on:{click:function(e){t.valid=!0}}},[t._v("Ã—")]),s("strong",[t._v("Oh snap!")]),t._v(" "+t._s(t.error)+" ")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("fieldset",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username","aria-describedby":"emailHelp",placeholder:"Enter username",required:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[t._v("Your user name must be at leat 6 character long")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Enter password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[t._v("Your password should be between 8 and 30 long and have at least 1 number")])]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Login")])])])])},M=[],U=s("724e"),Y=s("bc3a"),A="http://localhost:5000/auth/login",N=U.object({username:U.string().alphanum().min(6).max(20).required(),password:U.string().pattern(new RegExp("^[a-zA-Z0-9]{8,30}$")).required()}),T={name:"Login",data:function(){return{valid:!0,error:"",user:{username:"",password:""}}},methods:{login:function(){var t=this;this.validateUser()&&Y.post(A,this.user).then((function(e){t.valid=!0,sessionStorage.setItem("token",e.data.token),t.$router.push({name:"Main"})})).catch((function(e){throw t.error=e.response.data.message,t.valid=!1,e}))},validateUser:function(){this.error="";var t=!0,e=N.validate(this.user),s=e.error;return s&&(t=!1,this.valid=!1,this.error=s),t}}},z=T,B=Object(c["a"])(z,I,M,!1,null,null,null),D=B.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("Congratz "+t._s(t.data.user.token))]),s("h2",[t._v("You have, "+t._s(t.message)+" ")])])},R=[],Z=s("bc3a"),W="http://localhost:5000/test",F={name:"Main",data:function(){return{token:"",data:{user:{}},message:"",validToken:!1}},created:function(){var t=this;this.token=sessionStorage.token,Z.get(W,{headers:{Authorization:this.token}}).then((function(e){t.data=e.data.data,t.message=e.data.message})).catch((function(){t.$router.push({name:"Login"})}))}},G=F,K=Object(c["a"])(G,J,R,!1,null,null,null),Q=K.exports;a["a"].use(g["a"]);var V=[{path:"/",name:"Home",component:x},{path:"/signup",name:"Signup",component:q},{path:"/login",name:"Login",component:D},{path:"/main",name:"Main",component:Q}],X=new g["a"]({routes:V}),tt=X;a["a"].config.productionTip=!1,new a["a"]({router:tt,render:function(t){return t(h)}}).$mount("#app")}});
//# sourceMappingURL=app.d89a143a.js.map